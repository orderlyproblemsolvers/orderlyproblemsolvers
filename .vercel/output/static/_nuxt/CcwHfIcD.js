import{_ as S,a as z}from"./BV-Vw_Bd.js";import{_ as D}from"./CF83UeJk.js";import{d as $,z as B,h as P,B as T,i as A,r as F,o as M,a as O,s as V,c as n,j as u,e as t,n as p,u as o,C as E,t as l,m,f as I,l as g,F as b,g as f,_ as q,b as s,k as x}from"./B9RLFzUu.js";import{u as J}from"./BMu-BY4t.js";import{u as U}from"./BZXutiun.js";import{d as W}from"./C0pjwUTG.js";const Y={class:"min-h-screen bg-white font-sans text-gray-900 selection:bg-blue-100"},R={key:0,class:"h-screen flex items-center justify-center"},X={key:1},Z={class:"sticky top-20 z-30 w-full bg-white/95 backdrop-blur border-b border-gray-100 h-1"},G={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-12 text-center"},K={class:"flex justify-center gap-3 mb-6"},Q={class:"px-3 py-1 bg-gray-100 text-gray-600 text-[10px] font-bold uppercase tracking-widest rounded-full"},ee={class:"px-3 py-1 bg-gray-100 text-gray-600 text-[10px] font-bold uppercase tracking-widest rounded-full"},te={class:"text-4xl md:text-6xl font-black tracking-tighter leading-[1.1] mb-6 text-gray-900"},oe={class:"text-xl text-gray-500 leading-relaxed max-w-2xl mx-auto"},se={class:"mt-6 text-sm font-bold text-gray-400"},re={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 mb-16"},ae={class:"aspect-video rounded-2xl overflow-hidden shadow-sm bg-gray-100"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-24"},ne={class:"grid grid-cols-1 lg:grid-cols-12 gap-12"},ie={class:"lg:col-span-7"},ce={class:"flex lg:hidden items-center gap-3 mb-8 pb-8 border-b border-gray-100"},de=["src"],ue={class:"text-sm font-bold"},pe=["innerHTML"],ge={class:"hidden lg:block lg:col-span-3"},he={class:"sticky top-48 space-y-12"},me={class:"flex items-start gap-3"},be=["src"],xe={key:1,class:"shrink-0"},ve=["src"],_e={key:1,class:"font-bold text-gray-900"},ye={class:"text-xs text-gray-500 mt-1 leading-relaxed"},fe={key:0,class:"space-y-4"},we={class:"flex items-center gap-3 mb-3"},ke={class:"w-8 h-8 rounded bg-white border border-gray-200 flex items-center justify-center font-black text-gray-900 shrink-0 text-xs overflow-hidden"},Ne=["src"],je={key:1},Ce={class:"font-bold text-sm text-gray-900 leading-tight"},He={class:"text-[10px] text-gray-500"},Le={key:1,class:"space-y-4"},Se=["src"],ze={class:"text-xs text-gray-500"},Oe=$({__name:"[slug]",async setup(De){let c,v;const w=B().params.slug,{data:e,error:k,status:N}=([c,v]=P(()=>J(`/api/stories/${w}`,"$J3XYSZvk-8")),c=await c,v(),c);if(k.value)throw T({statusCode:404,statusMessage:"Story not found",fatal:!0});const h=A(()=>e.value?.authorDetails?.avatar||`https://ui-avatars.com/api/?name=${e.value?.authorName||"Admin"}&background=random&color=fff`),j=i=>i?new Date(i).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"",_=F(0),y=()=>{{const i=window.scrollY,a=document.body.offsetHeight-window.innerHeight;_.value=i/a*100}};return M(()=>window.addEventListener("scroll",y)),O(()=>window.removeEventListener("scroll",y)),V({title:()=>e.value?.title,meta:[{name:"description",content:()=>e.value?.subtitle||e.value?.excerpt},{name:"author",content:()=>e.value?.authorName},{property:"og:title",content:()=>e.value?.title},{property:"og:description",content:()=>e.value?.excerpt},{property:"og:image",content:()=>e.value?.image},{property:"og:type",content:"article"},{property:"article:published_time",content:()=>e.value?.date},{property:"article:author",content:()=>e.value?.authorName},{name:"twitter:card",content:"summary_large_image"}]}),U(()=>({"@context":"https://schema.org","@type":"BlogPosting",headline:e.value?.title,image:[e.value?.image],datePublished:e.value?.date,author:{"@type":"Person",name:e.value?.authorName},publisher:{"@type":"Organization",name:"Orderly Problem Solvers",logo:{"@type":"ImageObject",url:"https://orderlyproblemsolvers.com/img/logo.png"}},description:e.value?.excerpt})),W("OpsTemplate",{title:e.value?.title,description:e.value?.excerpt||e.value?.subtitle,badge:e.value?.category}),(i,a)=>{const C=S,H=D,d=q,L=z;return s(),n(b,null,[u(C),t("div",Y,[o(N)==="pending"?(s(),n("div",R,[...a[0]||(a[0]=[t("div",{class:"w-12 h-12 border-4 border-gray-100 border-t-black rounded-full animate-spin"},null,-1)])])):o(e)?(s(),n("div",X,[t("div",Z,[t("div",{class:"h-full bg-blue-600 transition-all duration-150 ease-out",style:E({width:`${_.value}%`})},null,4)]),t("div",G,[t("div",K,[t("span",Q,l(o(e).category),1),t("span",ee,l(o(e).readTime),1)]),t("h1",te,l(o(e).title),1),t("p",oe,l(o(e).excerpt),1),t("p",se,l(j(o(e).date)),1)]),t("div",re,[t("div",ae,[o(e).image?(s(),m(H,{key:0,src:o(e).image,class:"w-full h-full object-cover",alt:"Cover Article"},null,8,["src"])):p("",!0)])]),t("div",le,[t("div",ne,[a[5]||(a[5]=I('<div class="hidden lg:block lg:col-span-2"><div class="sticky top-48 flex flex-col gap-4 items-center"><button class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-blue-50 hover:text-blue-600 transition-colors border border-transparent hover:border-blue-100"><span class="sr-only">Share Twitter</span><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></button><button class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:bg-blue-50 hover:text-blue-600 transition-colors border border-transparent hover:border-blue-100"><span class="sr-only">Share LinkedIn</span><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"></path></svg></button></div></div>',1)),t("div",ie,[t("div",ce,[t("img",{src:h.value,class:"w-10 h-10 rounded-full object-cover"},null,8,de),t("div",null,[t("p",ue,l(o(e).authorName),1)])]),t("div",{class:"prose prose-lg prose-gray max-w-none prose-headings:font-black prose-headings:tracking-tight prose-p:leading-relaxed prose-a:text-blue-600 hover:prose-a:text-blue-800 prose-img:rounded-xl prose-blockquote:border-l-black prose-blockquote:italic prose-blockquote:font-serif",innerHTML:o(e).content},null,8,pe)]),t("div",ge,[t("div",he,[t("div",null,[a[1]||(a[1]=t("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4"},"Written By",-1)),t("div",me,[o(e).authorDetails?(s(),m(d,{key:0,to:`/people/${o(e).authorDetails.slug}`,class:"shrink-0 group"},{default:g(()=>[t("img",{src:h.value,class:"w-12 h-12 rounded-full border border-gray-200 object-cover group-hover:border-blue-500 transition-colors"},null,8,be)]),_:1},8,["to"])):(s(),n("div",xe,[t("img",{src:h.value,class:"w-12 h-12 rounded-full border border-gray-200 object-cover"},null,8,ve)])),t("div",null,[o(e).authorDetails?(s(),m(d,{key:0,to:`/people/${o(e).authorDetails.slug}`,class:"font-bold text-gray-900 hover:text-blue-600 transition-colors block"},{default:g(()=>[x(l(o(e).authorName),1)]),_:1},8,["to"])):(s(),n("p",_e,l(o(e).authorName),1)),t("p",ye,l(o(e).authorDetails?.role||"OPS Contributor"),1)])])]),o(e).companies&&o(e).companies.length>0?(s(),n("div",fe,[a[3]||(a[3]=t("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},"Featured Companies",-1)),(s(!0),n(b,null,f(o(e).companies,r=>(s(),n("div",{key:r.slug,class:"p-4 bg-gray-50 rounded-xl border border-gray-200"},[t("div",we,[t("div",ke,[r.logo&&r.logo.startsWith("http")?(s(),n("img",{key:0,src:r.logo,class:"w-full h-full object-cover"},null,8,Ne)):(s(),n("span",je,l(r.name.charAt(0)),1))]),t("div",null,[t("p",Ce,l(r.name),1),t("p",He,l(r.industry),1)])]),u(d,{to:`/companies/${r.slug}`,class:"block w-full py-2 bg-white border border-gray-200 text-center rounded text-xs font-bold hover:border-black hover:bg-black hover:text-white transition-all"},{default:g(()=>[...a[2]||(a[2]=[x(" View Profile ",-1)])]),_:1},8,["to"])]))),128))])):p("",!0),o(e).people&&o(e).people.length>0?(s(),n("div",Le,[a[4]||(a[4]=t("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},"Featured Experts",-1)),(s(!0),n(b,null,f(o(e).people,r=>(s(),n("div",{key:r.slug,class:"flex items-center gap-3 p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors bg-white"},[t("img",{src:r.avatar||`https://ui-avatars.com/api/?name=${r.name}`,class:"w-10 h-10 rounded-full object-cover border border-gray-100"},null,8,Se),t("div",null,[u(d,{to:`/people/${r.slug}`,class:"text-sm font-bold text-gray-900 hover:text-blue-600 block transition-colors"},{default:g(()=>[x(l(r.name),1)]),_:2},1032,["to"]),t("p",ze,l(r.role),1)])]))),128))])):p("",!0)])])])])])):p("",!0)]),u(L)],64)}}});export{Oe as default};
