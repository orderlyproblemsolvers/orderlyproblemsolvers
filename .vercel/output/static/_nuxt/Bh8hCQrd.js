import{d as m,h as v,r as k,c as o,e as t,j as u,l as g,u as d,F as y,g as h,n as w,_ as C,b as a,k as N,t as r,p as j}from"./B9RLFzUu.js";import{u as A}from"./BMu-BY4t.js";const B={class:"max-w-6xl mx-auto"},E={class:"flex items-center justify-between mb-8"},L={key:0,class:"space-y-4"},$={key:1,class:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm"},M={class:"w-full text-left border-collapse"},V={class:"divide-y divide-gray-100"},F={class:"px-6 py-4"},H={class:"flex items-center gap-3"},I=["src"],T={class:"text-sm font-bold text-gray-900"},z={class:"px-6 py-4"},D={class:"text-xs font-bold text-gray-900"},P={class:"text-xs text-gray-500"},S={class:"px-6 py-4 text-sm text-gray-500"},q={class:"px-6 py-4"},K={class:"px-6 py-4 text-right flex justify-center"},R=["onClick","disabled"],Z={key:0,class:"text-xs text-red-600"},G={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:0,class:"p-12 text-center"},X=m({__name:"index",async setup(O){let n,p;const{data:i,refresh:_,status:b}=([n,p]=v(()=>A("/api/admin/people","$mhuZcqIP5K")),n=await n,p(),n),l=k(null),f=async c=>{if(confirm("Are you sure? This cannot be undone.")){l.value=c;try{await $fetch(`/api/admin/people/${c}`,{method:"DELETE"}),await _()}catch(s){alert(s.data?.statusMessage||"Error deleting item")}finally{l.value=null}}};return(c,s)=>{const x=C;return a(),o("div",B,[t("div",E,[s[1]||(s[1]=t("h1",{class:"text-3xl font-black text-gray-900 tracking-tight"},"People",-1)),u(x,{to:"/admin/people/new",class:"px-6 py-2 bg-black text-white text-sm font-bold rounded-lg hover:bg-gray-800 transition-colors flex items-center gap-2"},{default:g(()=>[...s[0]||(s[0]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),N(" Add New ",-1)])]),_:1})]),d(b)==="pending"?(a(),o("div",L,[(a(),o(y,null,h(5,e=>t("div",{key:e,class:"h-16 bg-gray-100 rounded-lg animate-pulse"})),64))])):(a(),o("div",$,[t("table",M,[s[4]||(s[4]=t("thead",{class:"bg-gray-50 border-b border-gray-200"},[t("tr",null,[t("th",{class:"px-6 py-4 text-xs font-bold uppercase text-gray-500"},"Name"),t("th",{class:"px-6 py-4 text-xs font-bold uppercase text-gray-500"},"Role / Company"),t("th",{class:"px-6 py-4 text-xs font-bold uppercase text-gray-500"},"Location"),t("th",{class:"px-6 py-4 text-xs font-bold uppercase text-gray-500"},"Status"),t("th",{class:"px-6 py-4 text-xs font-bold uppercase text-gray-500 text-right"},"Actions")])],-1)),t("tbody",V,[(a(!0),o(y,null,h(d(i),e=>(a(),o("tr",{key:e.id,class:"group hover:bg-gray-50/50 transition-colors"},[t("td",F,[t("div",H,[t("img",{src:e.avatar||`https://ui-avatars.com/api/?name=${e.name}&background=random`,class:"w-8 h-8 rounded-full object-cover bg-gray-100 border border-gray-200"},null,8,I),t("p",T,r(e.name),1)])]),t("td",z,[t("div",null,[t("p",D,r(e.role),1),t("p",P,r(e.companyName||"Freelance"),1)])]),t("td",S,r(e.location),1),t("td",q,[t("span",{class:j(["text-[10px] font-bold uppercase px-2 py-1 rounded border",e.status==="approved"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100"])},r(e.status),3)]),t("td",K,[u(x,{to:`/admin/people/${e.id}`,class:"text-gray-400 hover:text-blue-600 transition-colors p-2 inline-block",title:"Edit"},{default:g(()=>[...s[2]||(s[2]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["to"]),t("button",{onClick:Q=>f(e.id),disabled:l.value===e.id,class:"text-gray-400 hover:text-red-600 transition-colors p-2"},[l.value===e.id?(a(),o("span",Z,"...")):(a(),o("svg",G,[...s[3]||(s[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])]))],8,R)])]))),128))])]),!d(i)||d(i).length===0?(a(),o("div",J,[...s[5]||(s[5]=[t("p",{class:"text-gray-400 text-sm"},"No people found. Add your first one!",-1)])])):w("",!0)]))])}}});export{X as default};
