import{d as y,r as p,L as h,c as l,n as k,t as x,e as t,b as o}from"./Dcw0cixL.js";const w={key:0,class:"block text-xs font-bold uppercase text-gray-500 mb-2"},_={key:1,class:"relative group"},C=["src"],U={key:0,class:"text-blue-600 flex flex-col items-center"},V={key:1,class:"text-gray-400 flex flex-col items-center"},j=y({__name:"ImageUpload",props:{modelValue:{},label:{}},emits:["update:modelValue"],setup(s,{emit:m}){const i=h(),d=m,r=p(!1),u=p(null),f=i.public.cloudinaryCloudName,b=i.public.cloudinaryUploadPreset,g=async n=>{const e=n.target;if(!e.files||e.files.length===0)return;const a=e.files[0];await v(a)},v=async n=>{r.value=!0;const e=new FormData;e.append("file",n),e.append("upload_preset",b);try{const c=await(await fetch(`https://api.cloudinary.com/v1_1/${f}/image/upload`,{method:"POST",body:e})).json();c.secure_url?d("update:modelValue",c.secure_url):alert("Upload failed")}catch{alert("Error uploading image")}finally{r.value=!1}};return(n,e)=>(o(),l("div",null,[s.label?(o(),l("label",w,x(s.label),1)):k("",!0),s.modelValue?(o(),l("div",_,[t("img",{src:s.modelValue,class:"w-full h-48 object-cover rounded-lg border border-gray-200"},null,8,C),t("button",{onClick:e[0]||(e[0]=a=>d("update:modelValue","")),class:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md"},[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(o(),l("div",{key:2,onClick:e[1]||(e[1]=a=>u.value?.click()),class:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all"},[r.value?(o(),l("div",U,[...e[3]||(e[3]=[t("div",{class:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-2"},null,-1),t("span",{class:"text-xs font-bold uppercase"},"Uploading...",-1)])])):(o(),l("div",V,[...e[4]||(e[4]=[t("svg",{class:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),t("span",{class:"text-xs font-bold uppercase"},"Click to Upload Image",-1)])])),t("input",{ref_key:"fileInput",ref:u,type:"file",accept:"image/*",class:"hidden",onChange:g},null,544)]))]))}}),D=Object.assign(j,{__name:"ImageUpload"});export{D as _};
