import{d as A,z as B,r as m,h as L,S as M,c as s,e as t,j as x,l as P,t as v,u as R,x as y,w as i,v as a,T as u,f,F as D,g as N,U as k,R as $,y as j,_ as q,b as p,k as w}from"./Dcw0cixL.js";import{_ as G}from"./BxcMVgC5.js";import{u as H}from"./DTVug5iI.js";const K={class:"max-w-2xl mx-auto"},O={class:"flex items-center justify-between mb-8"},W={class:"flex gap-3"},h=["disabled"],z={key:0,class:"py-20 text-center"},J={class:"grid grid-cols-2 gap-6"},Q={class:"grid grid-cols-2 gap-6"},X={class:"grid grid-cols-2 gap-6"},Y={class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-white flex flex-wrap gap-2 items-center focus-within:border-black transition-all min-h-[46px]"},Z=["onClick"],_=["onKeydown"],oo={class:"border-t border-gray-100 pt-4 space-y-3"},to={class:"flex items-center gap-3"},eo={class:"flex items-center gap-3"},ro=A({__name:"[id]",async setup(no){let r,b;const S=j(),c=B().params.id,d=m(!1),{data:C,pending:U}=([r,b]=L(()=>H(`/api/admin/companies/${c}`,"$cS7N3Tnexw")),r=await r,b(),r),e=m({name:"",slug:"",headline:"",description:"",industry:"FinTech",location:"",website:"",stage:"Seed",logo:"",featured:!1,status:"approved",stack:[],stackInput:""});M(C,l=>{l&&(e.value={...e.value,...l,stackInput:""})},{immediate:!0});const V=()=>{const l=e.value.stackInput.trim();l&&!e.value.stack.includes(l)&&e.value.stack.push(l),e.value.stackInput=""},T=l=>{e.value.stack.splice(l,1)},g=async()=>{d.value=!0;try{await $fetch(`/api/admin/companies/${c}`,{method:"PUT",body:e.value}),alert("Company Updated!"),S.push("/admin/companies")}catch(l){alert(l.data?.statusMessage||"Error updating company")}finally{d.value=!1}};return(l,o)=>{const I=q,F=G;return p(),s("div",K,[t("div",O,[o[14]||(o[14]=t("h1",{class:"text-2xl font-black text-gray-900"},"Edit Company",-1)),t("div",W,[x(I,{to:"/admin/companies",class:"px-4 py-2 text-sm font-bold text-gray-500 hover:text-black"},{default:P(()=>[...o[13]||(o[13]=[w("Cancel",-1)])]),_:1}),t("button",{onClick:g,disabled:d.value,class:"px-6 py-2 bg-black text-white text-sm font-bold rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50"},v(d.value?"Saving...":"Save Changes"),9,h)])]),R(U)?(p(),s("div",z,[...o[15]||(o[15]=[t("div",{class:"w-8 h-8 border-2 border-gray-200 border-t-black rounded-full animate-spin mx-auto"},null,-1)])])):(p(),s("form",{key:1,onSubmit:y(g,["prevent"]),class:"space-y-6 bg-white p-8 rounded-xl border border-gray-200 shadow-sm"},[t("div",J,[t("div",null,[o[16]||(o[16]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Company Name",-1)),i(t("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.value.name=n),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none transition-colors"},null,512),[[a,e.value.name]])]),t("div",null,[o[17]||(o[17]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Slug (URL)",-1)),i(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.value.slug=n),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none bg-gray-50"},null,512),[[a,e.value.slug]])])]),t("div",null,[x(F,{modelValue:e.value.logo,"onUpdate:modelValue":o[2]||(o[2]=n=>e.value.logo=n),label:"Company Logo"},null,8,["modelValue"])]),t("div",null,[o[18]||(o[18]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Headline",-1)),i(t("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>e.value.headline=n),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none transition-colors"},null,512),[[a,e.value.headline]])]),t("div",Q,[t("div",null,[o[20]||(o[20]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Industry",-1)),i(t("select",{"onUpdate:modelValue":o[4]||(o[4]=n=>e.value.industry=n),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none bg-white"},[...o[19]||(o[19]=[f("<option>FinTech</option><option>HealthTech</option><option>AgriTech</option><option>Logistics</option><option>EdTech</option><option>Clean Energy</option><option>E-Commerce</option><option>Real Estate</option><option>Manufacturing</option><option>Telecommunications</option><option>Media &amp; Entertainment</option><option>Retail</option><option>Transportation</option><option>Hospitality</option><option>Cybersecurity</option><option>Artificial Intelligence</option><option>Software Development</option><option>Cloud Computing</option><option>Gaming</option><option>Fashion &amp; Apparel</option><option>Food &amp; Beverage</option><option>Automotive</option><option>Aerospace &amp; Defense</option><option>Pharmaceuticals</option><option>Insurance</option><option>Banking</option><option>Construction</option><option>Mining</option><option>Oil &amp; Gas</option><option>Utilities</option><option>Tourism</option><option>Sports &amp; Recreation</option><option>Beauty &amp; Wellness</option>",33)])],512),[[u,e.value.industry]])]),t("div",null,[o[22]||(o[22]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Stage",-1)),i(t("select",{"onUpdate:modelValue":o[5]||(o[5]=n=>e.value.stage=n),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none bg-white"},[...o[21]||(o[21]=[f("<option>Bootstrapped</option><option>Pre-Seed</option><option>Seed</option><option>Series A</option><option>Series B+</option><option>Series B</option><option>Series C</option><option>Series D</option><option>Series E</option><option>Series F+</option><option>Growth Stage</option><option>Late Stage</option><option>Pre-IPO</option><option>IPO</option><option>Private Equity</option><option>Acquisition</option><option>Grant Funding</option><option>Angel Investment</option><option>Venture Capital</option><option>Crowdfunding</option><option>Debt Financing</option>",21)])],512),[[u,e.value.stage]])])]),t("div",X,[t("div",null,[o[23]||(o[23]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Location",-1)),i(t("input",{"onUpdate:modelValue":o[6]||(o[6]=n=>e.value.location=n),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none transition-colors"},null,512),[[a,e.value.location]])]),t("div",null,[o[24]||(o[24]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Website",-1)),i(t("input",{"onUpdate:modelValue":o[7]||(o[7]=n=>e.value.website=n),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none transition-colors"},null,512),[[a,e.value.website]])])]),t("div",null,[o[25]||(o[25]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-2"},"Tech Stack",-1)),t("div",Y,[(p(!0),s(D,null,N(e.value.stack,(n,E)=>(p(),s("span",{key:n,class:"bg-black text-white text-xs font-bold px-2 py-1 rounded flex items-center gap-1"},[w(v(n)+" ",1),t("button",{onClick:io=>T(E),type:"button",class:"hover:text-gray-300"}," Ã— ",8,Z)]))),128)),i(t("input",{"onUpdate:modelValue":o[8]||(o[8]=n=>e.value.stackInput=n),onKeydown:[k(y(V,["prevent"]),["enter"]),o[9]||(o[9]=k(n=>e.value.stackInput===""&&e.value.stack.pop(),["backspace"]))],type:"text",class:"outline-none text-sm flex-grow min-w-[100px] bg-transparent",placeholder:"Type & Enter..."},null,40,_),[[a,e.value.stackInput]])])]),t("div",null,[o[26]||(o[26]=t("label",{class:"block text-xs font-bold uppercase text-gray-500 mb-1"},"Full Description",-1)),i(t("textarea",{"onUpdate:modelValue":o[10]||(o[10]=n=>e.value.description=n),rows:"6",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black outline-none transition-colors"},null,512),[[a,e.value.description]])]),t("div",oo,[t("div",to,[i(t("input",{"onUpdate:modelValue":o[11]||(o[11]=n=>e.value.featured=n),type:"checkbox",id:"feat",class:"w-4 h-4 text-black rounded border-gray-300 focus:ring-black accent-black"},null,512),[[$,e.value.featured]]),o[27]||(o[27]=t("label",{for:"feat",class:"text-sm font-bold text-gray-900 cursor-pointer"},"Featured Solver",-1))]),t("div",eo,[o[29]||(o[29]=t("label",{class:"text-sm font-bold text-gray-500"},"Status:",-1)),i(t("select",{"onUpdate:modelValue":o[12]||(o[12]=n=>e.value.status=n),class:"px-2 py-1 border border-gray-300 rounded text-xs font-bold uppercase"},[...o[28]||(o[28]=[t("option",{value:"pending"},"Pending",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"rejected"},"Rejected",-1)])],512),[[u,e.value.status]])])])],32))])}}});export{ro as default};
